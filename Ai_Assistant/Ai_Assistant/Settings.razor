
@page "/settings"
@using Ai_Assistant
@inject ISettingsService SettingsService

<h1>Settings</h1>

@if (settings == null)
{
    <p>Loading...</p>
}
else
{
    <div>
        <label>Location (City):</label>
        <input @bind="settings.City" />
    </div>
    <div>
        <label>Location (Country):</label>
        <input @bind="settings.Country" />
    </div>
    <div>
        <label>Microsoft To-Do API Token:</label>
        <input @bind="settings.ApiToken" />
    </div>
    <div>
        <label>Phone IP Address:</label>
        <input @bind="settings.PhoneIp" />
    </div>
    <div>
        <label>Local LLM URL:</label>
        <input @bind="settings.LocalLLMUrl" />
    </div>
    <div>
        <label>ActivityWatch URL:</label>
        <input @bind="settings.ActivityWatchUrl" />
    </div>
    <div>
        <label>Local LLM Model:</label>
        <input @bind="settings.LocalLLMModel" />
    </div>
    <div>
        <label>Prayer Times API URL:</label>
        <input @bind="settings.PrayerTimesApiUrl" />
    </div>
    <div>
        <label>TTS Script:</label>
        <input @bind="settings.TtsScript" />
    </div>
    <div>
        <label>TTS Output Path:</label>
        <input @bind="settings.TtsOutputPath" />
    </div>
    <div>
        <label>STT Script:</label>
        <input @bind="settings.SttScript" />
    </div>
    <div>
        <label>STT Model Path:</label>
        <input @bind="settings.SttModelPath" />
    </div>
    <div>
        <label>Wake Word Script:</label>
        <input @bind="settings.WakeWordScript" />
    </div>
    <div>
        <label>Wake Word Keyword File:</label>
        <input @bind="settings.WakeWordKeywordFile" />
    </div>
    <div>
        <label>Wake Word Model File:</label>
        <input @bind="settings.WakeWordModelFile" />
    </div>
    <div>
        <label>Wake Word Audio Device:</label>
        <input @bind="settings.WakeWordAudioDevice" />
    </div>
    <button @onclick="SaveSettings">Save</button>
}

@code {
    private Settings settings;

    protected override async Task OnInitializedAsync()
    {
        settings = await SettingsService.LoadSettingsAsync();
    }

    async Task SaveSettings()
    {
        await SettingsService.SaveSettingsAsync(settings);
    }
}
